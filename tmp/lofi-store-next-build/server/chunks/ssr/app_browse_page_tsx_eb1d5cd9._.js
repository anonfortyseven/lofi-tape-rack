module.exports=[56167,a=>{"use strict";var b=a.i(87924),c=a.i(72850),d=a.i(9908),e=a.i(43825),f=a.i(38246),g=a.i(72131),h=a.i(50944),i=a.i(81126),j=a.i(25559);let{artists:k}=i.default,{albums:l}=j.default,m=[...new Set(k.map(a=>a.genre))],n=[...new Set(l.flatMap(a=>a.tags))],o=[...new Set(l.map(a=>a.year))].sort((a,b)=>b-a);function p(){let a=(0,h.useRouter)(),i=(0,h.useSearchParams)(),{addItem:j,isInCart:p}=(0,d.useCart)(),{playTrack:q}=(0,e.useAudioPlayer)(),[r,s]=(0,g.useState)(i.get("artist")||""),[t,u]=(0,g.useState)(i.get("genre")||""),[v,w]=(0,g.useState)(i.get("mood")||""),[x,y]=(0,g.useState)(i.get("year")||""),[z,A]=(0,g.useState)("newest"),[B,C]=(0,g.useState)(!1),[D,E]=(0,g.useState)("grid"),[F,G]=(0,g.useState)(-1),H=(0,g.useRef)([]);(0,g.useEffect)(()=>{let a=localStorage.getItem("lofi-browse-view-mode");a&&("grid"===a||"list"===a)&&E(a)},[]);let I=a=>{E(a),localStorage.setItem("lofi-browse-view-mode",a)},J=(0,g.useCallback)((b,c,d,e)=>{let f=new URLSearchParams;b&&f.set("artist",b),c&&f.set("genre",c),d&&f.set("mood",d),e&&f.set("year",e);let g=f.toString();a.push(g?`/browse?${g}`:"/browse",{scroll:!1})},[a]),K=a=>{s(a),J(a,t,v,x)},L=a=>{u(a),J(r,a,v,x)},M=a=>{w(a),J(r,t,a,x)},N=a=>{y(a),J(r,t,v,a)},O=(0,g.useMemo)(()=>{let a=[...l];if(r&&(a=a.filter(a=>a.artistId===r)),t){let b=k.filter(a=>a.genre===t).map(a=>a.id);a=a.filter(a=>b.includes(a.artistId))}switch(v&&(a=a.filter(a=>a.tags.includes(v))),x&&(a=a.filter(a=>a.year===parseInt(x))),z){case"newest":a.sort((a,b)=>b.year-a.year);break;case"oldest":a.sort((a,b)=>a.year-b.year);break;case"price-low":a.sort((a,b)=>a.price-b.price);break;case"price-high":a.sort((a,b)=>b.price-a.price);break;case"title-az":a.sort((a,b)=>a.title.localeCompare(b.title));break;case"title-za":a.sort((a,b)=>b.title.localeCompare(a.title))}return a},[r,t,v,x,z]);(0,g.useEffect)(()=>{let b=b=>{!(b.target instanceof HTMLInputElement||b.target instanceof HTMLTextAreaElement)&&("j"===b.key||"ArrowDown"===b.key?(b.preventDefault(),G(a=>{let b=Math.min(a+1,O.length-1);return H.current[b]?.scrollIntoView({behavior:"smooth",block:"nearest"}),b})):"k"===b.key||"ArrowUp"===b.key?(b.preventDefault(),G(a=>{let b=Math.max(a-1,0);return H.current[b]?.scrollIntoView({behavior:"smooth",block:"nearest"}),b})):"Enter"===b.key&&F>=0&&F<O.length&&(b.preventDefault(),a.push(`/albums/${O[F].slug}`)))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[O,F,a]),(0,g.useEffect)(()=>{G(-1)},[r,t,v,x]);let P=()=>{s(""),u(""),w(""),y(""),a.push("/browse",{scroll:!1})},Q=[r,t,v,x].filter(Boolean).length,R=a=>{let b=k.find(b=>b.id===a.artistId);j({id:a.id,type:"album",title:a.title,artistName:a.artistName,artistSlug:b?.slug||"",albumSlug:a.slug,price:a.price,coverGradient:{primary:b?.accentColor||"#9333EA",secondary:b?.secondaryColor||"#06B6D4"}})},S=a=>{let b=k.find(b=>b.id===a.artistId),c=a.tracks[0];q({id:`${a.id}-${c.number}`,title:c.title,artistName:a.artistName,albumTitle:a.title,albumSlug:a.slug,duration:c.duration,coverGradient:{primary:b?.accentColor||"#9333EA",secondary:b?.secondaryColor||"#06B6D4"}},!0)};return(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-950 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-amber-500/10 rounded-full blur-[128px]"}),(0,b.jsx)("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-[128px]"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(0,0,0,0.03)_2px,rgba(0,0,0,0.03)_4px)]"})]}),(0,b.jsx)(c.Navbar,{}),(0,b.jsx)("main",{className:"relative z-10 pt-24 pb-20 px-4",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Browse Tapes"}),(0,b.jsxs)("p",{className:"text-zinc-400",children:["Explore our collection of ",l.length," albums from ",k.length," artists"]}),(0,b.jsxs)("p",{className:"text-xs text-zinc-600 mt-2",children:["Use ",(0,b.jsx)("kbd",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-zinc-400",children:"j"})," / ",(0,b.jsx)("kbd",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-zinc-400",children:"k"})," to navigate, ",(0,b.jsx)("kbd",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-zinc-400",children:"Enter"})," to view"]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("button",{onClick:()=>C(!B),className:"lg:hidden flex items-center justify-between w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white mb-4",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters",Q>0&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-amber-500 text-black text-xs font-bold rounded-full",children:Q})]}),(0,b.jsx)("svg",{className:`w-5 h-5 transition-transform ${B?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,b.jsxs)("div",{className:`space-y-4 ${B?"block":"hidden lg:block"}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wide mb-2 block",children:"Artist"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{onClick:()=>K(""),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${!r?"bg-amber-500 text-black":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:"All"}),k.map(a=>(0,b.jsx)("button",{onClick:()=>K(r===a.id?"":a.id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${r===a.id?"bg-amber-500 text-black":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wide mb-2 block",children:"Genre"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{onClick:()=>L(""),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${!t?"bg-purple-500 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:"All"}),m.map(a=>(0,b.jsx)("button",{onClick:()=>L(t===a?"":a),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${t===a?"bg-purple-500 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wide mb-2 block",children:"Mood"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{onClick:()=>M(""),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${!v?"bg-cyan-500 text-black":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:"All"}),n.map(a=>(0,b.jsx)("button",{onClick:()=>M(v===a?"":a),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${v===a?"bg-cyan-500 text-black":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wide mb-2 block",children:"Year"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{onClick:()=>N(""),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${!x?"bg-green-500 text-black":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:"All"}),o.map(a=>(0,b.jsx)("button",{onClick:()=>N(x===String(a)?"":String(a)),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${x===String(a)?"bg-green-500 text-black":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:a},a))]})]}),Q>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,b.jsxs)("span",{className:"text-xs text-zinc-500",children:[Q," filter",1!==Q?"s":""," active"]}),(0,b.jsxs)("button",{onClick:P,className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-1 transition-colors",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear all"]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("p",{className:"text-sm text-zinc-500",children:["Showing ",O.length," of ",l.length," albums"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 bg-zinc-900 border border-zinc-800 rounded-lg p-1",children:[(0,b.jsx)("button",{onClick:()=>I("grid"),className:`p-2 rounded transition-colors ${"grid"===D?"bg-zinc-700 text-white":"text-zinc-500 hover:text-white"}`,title:"Grid view",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M3 3h8v8H3V3zm0 10h8v8H3v-8zm10-10h8v8h-8V3zm0 10h8v8h-8v-8z"})})}),(0,b.jsx)("button",{onClick:()=>I("list"),className:`p-2 rounded transition-colors ${"list"===D?"bg-zinc-700 text-white":"text-zinc-500 hover:text-white"}`,title:"List view",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"})})})]}),(0,b.jsxs)("select",{value:z,onChange:a=>A(a.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white text-sm focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"newest",children:"Newest First"}),(0,b.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,b.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,b.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,b.jsx)("option",{value:"title-az",children:"Title: A-Z"}),(0,b.jsx)("option",{value:"title-za",children:"Title: Z-A"})]})]})]}),0===O.length?(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-zinc-900 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-10 h-10 text-zinc-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No albums found"}),(0,b.jsx)("p",{className:"text-zinc-500 mb-6",children:"Try adjusting your filters"}),(0,b.jsx)("button",{onClick:P,className:"px-6 py-3 bg-amber-500 text-black font-semibold rounded-xl hover:bg-amber-400 transition-colors",children:"Clear Filters"})]}):"grid"===D?(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:O.map((a,c)=>{let d=k.find(b=>b.id===a.artistId),e=p(a.id),g=c===F;return(0,b.jsxs)("div",{className:"group album-card",ref:a=>{H.current[c]=a},children:[(0,b.jsxs)("div",{className:`relative aspect-square mb-4 ${g?"ring-2 ring-amber-500 ring-offset-2 ring-offset-zinc-950 rounded-xl":""}`,children:[(0,b.jsx)(f.default,{href:`/albums/${a.slug}`,children:(0,b.jsxs)("div",{className:"w-full h-full rounded-xl flex items-center justify-center relative overflow-hidden shadow-lg cover-glow",style:{background:d?`linear-gradient(135deg, ${d.accentColor}80, ${d.secondaryColor}80)`:"linear-gradient(135deg, #9333EA80, #06B6D480)"},children:[(0,b.jsxs)("div",{className:"w-20 h-12 bg-zinc-900/70 rounded-lg flex items-center justify-center gap-2",children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-zinc-600 rounded-full"}),(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-zinc-600 rounded-full"})]}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(255,255,255,0.03)_2px,rgba(255,255,255,0.03)_4px)]"})]})}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/60 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>S(a),className:"w-12 h-12 bg-white rounded-full flex items-center justify-center interactive-scale shadow-lg",title:"Play preview",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-zinc-900 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,b.jsx)("button",{onClick:()=>R(a),className:`w-12 h-12 rounded-full flex items-center justify-center interactive-scale shadow-lg ${e?"bg-amber-500 text-black":"bg-zinc-800 text-white hover:bg-zinc-700"}`,title:e?"In cart":"Add to cart",disabled:e,children:e?(0,b.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}):(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),(0,b.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black/50 backdrop-blur-sm rounded-full text-xs text-white/80",children:a.year})]}),(0,b.jsx)(f.default,{href:`/albums/${a.slug}`,children:(0,b.jsx)("h3",{className:"font-semibold text-white group-hover:text-amber-500 transition-colors truncate",children:a.title})}),(0,b.jsx)(f.default,{href:`/artists/${d?.slug}`,className:"text-sm text-zinc-500 hover:text-zinc-400 transition-colors truncate block",children:a.artistName}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsxs)("span",{className:"text-sm font-semibold text-amber-500",children:["$",a.price]}),(0,b.jsx)("div",{className:"flex gap-1",children:a.tags.slice(0,1).map(a=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-zinc-800 text-zinc-400 text-xs rounded-full",children:a},a))})]})]},a.id)})}):(0,b.jsx)("div",{className:"space-y-2",children:O.map((a,c)=>{let d=k.find(b=>b.id===a.artistId),e=p(a.id),g=c===F;return(0,b.jsxs)("div",{ref:a=>{H.current[c]=a},className:`group flex items-center gap-4 p-4 rounded-xl transition-all ${g?"bg-zinc-800 ring-2 ring-amber-500":"bg-zinc-900/50 hover:bg-zinc-900"}`,children:[(0,b.jsx)(f.default,{href:`/albums/${a.slug}`,className:"shrink-0",children:(0,b.jsx)("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center relative overflow-hidden shadow-lg",style:{background:d?`linear-gradient(135deg, ${d.accentColor}80, ${d.secondaryColor}80)`:"linear-gradient(135deg, #9333EA80, #06B6D480)"},children:(0,b.jsxs)("div",{className:"w-8 h-5 bg-zinc-900/70 rounded flex items-center justify-center gap-1",children:[(0,b.jsx)("div",{className:"w-2 h-2 border border-zinc-600 rounded-full"}),(0,b.jsx)("div",{className:"w-2 h-2 border border-zinc-600 rounded-full"})]})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)(f.default,{href:`/albums/${a.slug}`,children:(0,b.jsx)("h3",{className:"font-semibold text-white group-hover:text-amber-500 transition-colors truncate",children:a.title})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(f.default,{href:`/artists/${d?.slug}`,className:"text-zinc-500 hover:text-zinc-400 transition-colors",children:a.artistName}),(0,b.jsx)("span",{className:"text-zinc-700",children:"•"}),(0,b.jsx)("span",{className:"text-zinc-600",children:a.year}),(0,b.jsx)("span",{className:"text-zinc-700",children:"•"}),(0,b.jsxs)("span",{className:"text-zinc-600",children:[a.tracks.length," tracks"]})]}),(0,b.jsx)("div",{className:"flex gap-1 mt-1",children:a.tags.slice(0,3).map(a=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-zinc-800 text-zinc-500 text-xs rounded-full",children:a},a))})]}),(0,b.jsx)("div",{className:"text-right shrink-0",children:(0,b.jsxs)("span",{className:"text-lg font-bold text-amber-500",children:["$",a.price]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,b.jsx)("button",{onClick:()=>S(a),className:"w-10 h-10 bg-zinc-800 hover:bg-zinc-700 rounded-full flex items-center justify-center transition-colors",title:"Play preview",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,b.jsx)("button",{onClick:()=>R(a),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${e?"bg-amber-500 text-black":"bg-zinc-800 text-white hover:bg-zinc-700"}`,title:e?"In cart":"Add to cart",disabled:e,children:e?(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}):(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]},a.id)})})]})})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=app_browse_page_tsx_eb1d5cd9._.js.map