{"version":3,"sources":["../../../../../components/Navbar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { useCart } from '@/contexts/CartContext'\nimport { useSearch } from '@/contexts/SearchContext'\nimport { useState, useEffect } from 'react'\n\nexport function Navbar() {\n  const { user, signOut, loading } = useAuth()\n  const { itemCount, openCart } = useCart()\n  const { openSearch } = useSearch()\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [isScrolled, setIsScrolled] = useState(false)\n\n  // Track scroll for navbar background\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 20)\n    }\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n\n  // Keyboard shortcut for search\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n        e.preventDefault()\n        openSearch()\n      }\n    }\n    document.addEventListener('keydown', handleKeyDown)\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [openSearch])\n\n  return (\n    <nav className={`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${\n      isScrolled \n        ? 'bg-zinc-950/95 backdrop-blur-xl border-b border-zinc-800/50' \n        : 'bg-transparent'\n    }`}>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg flex items-center justify-center\">\n              <svg className=\"w-5 h-5 text-black\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n              </svg>\n            </div>\n            <span className=\"text-lg font-bold text-white\">\n              DRIFT<span className=\"text-amber-500\">TAPES</span>\n            </span>\n          </Link>\n\n          {/* Navigation Links */}\n          <div className=\"hidden md:flex items-center gap-8\">\n            <Link href=\"/browse\" className=\"text-zinc-400 hover:text-white transition-colors text-sm font-medium\">\n              Browse\n            </Link>\n            <Link href=\"/artists\" className=\"text-zinc-400 hover:text-white transition-colors text-sm font-medium\">\n              Artists\n            </Link>\n          </div>\n\n          {/* Right Section */}\n          <div className=\"flex items-center gap-2\">\n            {/* Search Button */}\n            <button\n              onClick={openSearch}\n              className=\"flex items-center gap-2 px-3 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800/50 rounded-lg transition-colors\"\n              title=\"Search (⌘K)\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n              <span className=\"hidden sm:inline text-sm\">Search</span>\n              <kbd className=\"hidden lg:inline-flex items-center px-1.5 py-0.5 bg-zinc-800 text-zinc-500 text-xs rounded font-mono\">\n                ⌘K\n              </kbd>\n            </button>\n\n            {/* Cart Button */}\n            <button\n              onClick={openCart}\n              className=\"relative p-2 text-zinc-400 hover:text-white hover:bg-zinc-800/50 rounded-lg transition-colors\"\n              title=\"Shopping Cart\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\" />\n              </svg>\n              {itemCount > 0 && (\n                <span className=\"absolute -top-0.5 -right-0.5 w-5 h-5 bg-amber-500 text-black text-xs font-bold rounded-full flex items-center justify-center\">\n                  {itemCount > 9 ? '9+' : itemCount}\n                </span>\n              )}\n            </button>\n\n            {/* Auth Section */}\n            {loading ? (\n              <div className=\"w-8 h-8 rounded-full bg-zinc-800 animate-pulse\" />\n            ) : user ? (\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowDropdown(!showDropdown)}\n                  className=\"flex items-center gap-2 hover:bg-zinc-800 rounded-lg px-3 py-2 transition-colors\"\n                >\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-amber-500 to-purple-500 rounded-full flex items-center justify-center text-white font-medium text-sm\">\n                    {user.email?.charAt(0).toUpperCase()}\n                  </div>\n                  <svg className=\"w-4 h-4 text-zinc-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n\n                {showDropdown && (\n                  <>\n                    <div \n                      className=\"fixed inset-0 z-40\" \n                      onClick={() => setShowDropdown(false)}\n                    />\n                    <div className=\"absolute right-0 mt-2 w-56 bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl py-2 z-50\">\n                      <div className=\"px-4 py-2 border-b border-zinc-800\">\n                        <p className=\"text-sm text-white font-medium truncate\">{user.email}</p>\n                        <p className=\"text-xs text-zinc-500\">Free Account</p>\n                      </div>\n                      <Link\n                        href=\"/library\"\n                        onClick={() => setShowDropdown(false)}\n                        className=\"block px-4 py-2 text-sm text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors\"\n                      >\n                        My Library\n                      </Link>\n                      <Link\n                        href=\"/profile\"\n                        onClick={() => setShowDropdown(false)}\n                        className=\"block px-4 py-2 text-sm text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors\"\n                      >\n                        Profile Settings\n                      </Link>\n                      <div className=\"border-t border-zinc-800 mt-2 pt-2\">\n                        <button\n                          onClick={() => {\n                            setShowDropdown(false)\n                            signOut()\n                          }}\n                          className=\"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-zinc-800 transition-colors\"\n                        >\n                          Sign Out\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            ) : (\n              <>\n                <Link\n                  href=\"/login\"\n                  className=\"text-zinc-400 hover:text-white transition-colors text-sm font-medium px-3 py-2\"\n                >\n                  Sign In\n                </Link>\n                <Link\n                  href=\"/signup\"\n                  className=\"bg-gradient-to-r from-amber-600 to-amber-500 hover:from-amber-500 hover:to-amber-400 text-black font-semibold px-4 py-2 rounded-lg text-sm transition-all hover:scale-105\"\n                >\n                  Get Started\n                </Link>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":"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"}